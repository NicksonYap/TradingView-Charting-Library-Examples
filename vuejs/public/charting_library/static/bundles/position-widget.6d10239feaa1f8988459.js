(window.webpackJsonp=window.webpackJsonp||[]).push([["position-widget"],{"/Hwa":function(e,t,o){"use strict";var n,s,i;Object.defineProperty(t,"__esModule",{value:!0}),n=o("mrSG"),s=o("q1tI"),i=o("17x9"),t.makeSwitchGroupItem=function(e){return(t=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e._onChange=function(t){e.context.switchGroupContext.getOnChange()(t)},e._onUpdate=function(t){t.includes(e.props.value)&&e.forceUpdate()},e}return n.__extends(o,t),o.prototype.componentDidMount=function(){this.context.switchGroupContext.subscribe(this._onUpdate)},o.prototype.render=function(){return s.createElement(e,n.__assign({},this.props,{name:this._getName(),onChange:this._onChange,checked:this._isChecked()}))},o.prototype.componentWillUnmount=function(){this.context.switchGroupContext.unsubscribe(this._onUpdate)},o.prototype._getName=function(){return this.context.switchGroupContext.getName()},o.prototype._isChecked=function(){return this.context.switchGroupContext.getValues().includes(this.props.value)},o}(s.PureComponent)).contextTypes={switchGroupContext:i.any.isRequired},t;var t}},"0Mig":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("mrSG");n.__exportStar(o("omE6"),t),n.__exportStar(o("/Hwa"),t)},CWem:function(e,t,o){"use strict";function n(e){return a.createElement("div",{className:v.positionInfo},a.createElement("div",{className:v.title},e.title),a.createElement(g.a,{textOutputs:e.textOutputs,disabled:!1,rightAlignedValues:!0}))}function s(e,t,o){i();var n={model:e,settings:t,isOpened:!0,focus:o,onClose:function(){i(),e.onDoneButtonClicked.reject(),n.model.headerModel.pinButtonClicked().unsubscribe(null,n.onClose),n.model.headerModel.closeButtonClicked().unsubscribe(null,n.onClose),P&&p.unmountComponentAtNode(P)}};r(n),n.model.headerModel.pinButtonClicked().subscribe(null,n.onClose),n.model.headerModel.closeButtonClicked().subscribe(null,n.onClose)}function i(){r({model:null,isOpened:!1})}function r(e){P||(P=document.createElement("div"),document.body.appendChild(P));var t=a.createElement(_.e.Provider,{value:{mode:e.model&&e.model.mode.value()||_.f.Panel,supportTrailingStop:Boolean(e.model&&e.model.supportTrailingStop)}},a.createElement(I,Object(c.__assign)({},e)));p.render(t,P)}function l(e,t,o,n){u(e,o);var s={model:e,settings:t,focus:n,onClose:function(){u(e,o),s.model.headerModel.pinButtonClicked().unsubscribe(null,s.onClose),s.model.headerModel.closeButtonClicked().unsubscribe(null,s.onClose)},onCancel:function(){s.model.headerModel&&s.model.headerModel.back()}};s.model.headerModel.pinButtonClicked().subscribe(null,s.onClose),s.model.headerModel.closeButtonClicked().subscribe(null,s.onClose),function(e,t){var o=a.createElement(_.e.Provider,{value:{mode:e.model.mode.value(),supportTrailingStop:Boolean(e.model.supportTrailingStop)}},a.createElement(N,Object(c.__assign)({},e)));p.render(o,t)}(s,o)}function u(e,t){p.unmountComponentAtNode(t)}var c,a,p,d,m,h,b,f,_,g,v,C,x,y,k,O,E,w,M,I,S,N,P;o.r(t),c=o("mrSG"),a=o("q1tI"),p=o("i8i4"),d=o("AVTG"),
m=o("WXjp"),h=o("oykh"),b=o("k/ZQ"),f=o("twDL"),_=o("en3B"),g=o("/qCs"),v=o("Rxoo"),C=function(e){function t(t){var o=e.call(this,t)||this;return o._updateTextOutputs=function(e){o.setState({textOutputs:e})},o.state={title:t.model.title(),textOutputs:t.model.textOutputs().value()},o}return Object(c.__extends)(t,e),t.prototype.componentDidMount=function(){this._subscribeToModel(this.props.model)},t.prototype.componentWillUnmount=function(){this._unsubscribeFromModel(this.props.model)},t.prototype.render=function(){return a.createElement(n,{title:this.state.title,textOutputs:this.state.textOutputs})},t.prototype._subscribeToModel=function(e){e.textOutputs().subscribe(this._updateTextOutputs)},t.prototype._unsubscribeFromModel=function(e){e.textOutputs().unsubscribe(this._updateTextOutputs)},t}(a.PureComponent),x=o("ycI/"),y=o("NbG7"),k=o("YSy0"),O=o("+Kd2"),E=function(e){function t(t){var o=e.call(this,t)||this;return o._block=null,o._setRef=function(e){o._block=e},o._onEnter=function(){!1===o.props.model.disabled.value()&&o.props.model.doneButtonClick()},o._callback=function(){return o.forceUpdate()},o}return Object(c.__extends)(t,e),t.prototype.componentDidMount=function(){this._subscribeToModel(this.props.model),this.props.settings.subscribe(this._callback),null!==this._block&&void 0===this.props.focus&&this._block.focus()},t.prototype.componentWillUnmount=function(){this._unsubscribeFromModel(this.props.model),this.props.settings.unsubscribe(this._callback)},t.prototype.render=function(){var e=this.props.model,t=this.props.settings,o={value:t.value(),setValue:t.setValue.bind(t)},n=e.warning.value();return a.createElement(y.a.Provider,{value:o},a.createElement("div",{className:k.positionWidget,tabIndex:-1,ref:this._setRef},a.createElement(x.a,{keyCode:13,handler:this._onEnter}),a.createElement("div",{className:k.header},a.createElement(h.a,{model:e.headerModel,supportBrackets:!0,currency:e.currency})),a.createElement("div",{className:k.separator}),a.createElement("div",{className:k.brackets},a.createElement(b.a,{model:e,focus:this.props.focus})),Array.isArray(e.customFieldModels.value())&&e.customFieldModels.value().length>0&&a.createElement("div",{className:k.customFieldsWrapper},this._generateCustomFields(e)),n&&a.createElement("div",{className:k.warning},a.createElement("span",null,e.warning.value())),a.createElement("div",{className:k.button},a.createElement(f.a,{model:e})),e.mode.value()===_.f.Panel&&a.createElement("div",null,a.createElement("div",{className:k.separator}),a.createElement("div",{className:k.positionInfo},a.createElement(C,{model:e.positionInfoModel})))))},t.prototype._subscribeToModel=function(e){this.props.model.disabled.subscribe(this._callback),this.props.model.loading.subscribe(this._callback),this.props.model.mode.subscribe(this._callback),this.props.model.warning.subscribe(this._callback)},t.prototype._unsubscribeFromModel=function(e){this.props.model.disabled.unsubscribe(this._callback),this.props.model.loading.unsubscribe(this._callback),
this.props.model.mode.unsubscribe(this._callback),this.props.model.warning.unsubscribe(this._callback)},t.prototype._generateCustomFields=function(e){return Object(O.a)(e.customFieldModels.value(),!1,e.status,k.customField)},t}(a.PureComponent),w=o("ahhv"),M=414,I=function(e){function t(t){var o=e.call(this,t)||this;return o._onKeyDown=function(e){27===e.keyCode&&o.props.onClose&&o.props.onClose()},o}return Object(c.__extends)(t,e),t.prototype.render=function(){return a.createElement(m.a,{className:w.dialog,isOpened:this.props.isOpened,onKeyDown:this._onKeyDown,width:M},a.createElement(d.a,{className:w.dialogBody},this.props.model&&this.props.settings&&a.createElement(E,{settings:this.props.settings,model:this.props.model,key:this.props.model.id,focus:this.props.focus})))},t}(a.PureComponent),S=o("O51n"),N=function(e){function t(t){var o=e.call(this,t)||this;return o._onKeyDown=function(e){27===e.keyCode&&o.props.onCancel&&o.props.onCancel()},o}return Object(c.__extends)(t,e),t.prototype.render=function(){return a.createElement("div",{className:S.positionPanel,onKeyDown:this._onKeyDown},a.createElement(E,{settings:this.props.settings,model:this.props.model,focus:this.props.focus,key:this.props.model.id}))},t}(a.PureComponent),o.d(t,"showPositionDialog",function(){return s}),o.d(t,"closePositionDialog",function(){return i}),o.d(t,"mountPositionPanel",function(){return l}),o.d(t,"unmountPositionPanel",function(){return u}),P=null},CZlE:function(e,t,o){"use strict";var n,s,i,r;Object.defineProperty(t,"__esModule",{value:!0}),n=o("mrSG"),s=o("q1tI"),i=o("TSYQ"),r=o("OxS6"),o("mR1d"),t.makeIcon=function(e){return function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(o,t),o.prototype.render=function(){var t=i(r.icon,this.props.className);return s.createElement("div",{className:t,dangerouslySetInnerHTML:{__html:e}})},o}(s.PureComponent)}},FgZj:function(e,t,o){},"H+g1":function(e,t,o){"use strict";var n,s,i,r,l,u,c;Object.defineProperty(t,"__esModule",{value:!0}),n=o("mrSG"),s=o("q1tI"),i=o("TSYQ"),r=o("0Mig"),l=o("Lv+c"),u=o("eHOe"),o("FgZj"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onChange=function(){t.props.onChange&&t.props.onChange(t.props.value)},t}return n.__extends(t,e),t.prototype.render=function(){var e,t,o,n=i(this.props.className,u.checkbox,((e={})[u.reverse]=Boolean(this.props.labelPositionReverse),e[u.baseline]=Boolean(this.props.labelAlignBaseline),e)),r=i(u.box,((t={})[u.check]=!Boolean(this.props.indeterminate),t[u.dot]=Boolean(this.props.indeterminate),t[u.noOutline]=-1===this.props.tabIndex,t)),c=i(u.label,((o={})[u.disabled]=this.props.disabled,o)),a=null;return this.props.label&&(a=s.createElement("span",{className:c},this.props.label)),s.createElement("label",{className:n},s.createElement("div",{className:u.wrapper,title:this.props.title},s.createElement("input",{id:this.props.id,tabIndex:this.props.tabIndex,className:u.input,type:"checkbox",name:this.props.name,checked:this.props.checked,disabled:this.props.disabled,
value:this.props.value,autoFocus:this.props.autoFocus,role:this.props.role,onChange:this._onChange,ref:this.props.reference}),s.createElement("div",{className:r},s.createElement(l.CheckIcon,{className:u.icon}))),a)},t.defaultProps={value:"on"},t}(s.PureComponent),t.Checkbox=c,t.GroupedCheckbox=r.makeSwitchGroupItem(c)},"Lv+c":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o("mrSG").__exportStar(o("mD/u"),t)},O51n:function(e,t,o){e.exports={positionPanel:"positionPanel-12DncXAH"}},OxS6:function(e){e.exports={icon:"icon-3qYrZx7p-"}},Rxoo:function(e,t,o){e.exports={positionInfo:"positionInfo-2HEB0yNn",title:"title-3OZQofSS",positionInfoItem:"positionInfoItem-1EqTxo7K",positionInfoItemTitle:"positionInfoItemTitle-F5LObE2P",positionInfoItemValue:"positionInfoItemValue-2fo8LrS9"}},YSy0:function(e,t,o){e.exports={positionWidget:"positionWidget-2Q-5afqb",header:"header-iozH_guT",separator:"separator-2uOOvXMD",brackets:"brackets-3Jjz-xyg",button:"button-333f-9CQ",positionInfo:"positionInfo-3OWjL0ry",warning:"warning-3MmJ_lV5",customFieldsWrapper:"customFieldsWrapper-16pUBfif"}},ZOCd:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 9" width="11" height="9" fill="none"><path stroke-width="2" d="M0.999878 4L3.99988 7L9.99988 1"/></svg>'},ahhv:function(e,t,o){e.exports={dialog:"dialog-22_qS41k",dialogBody:"dialogBody-3yOSlfYA"}},dWaX:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o("mrSG").__exportStar(o("H+g1"),t)},eHOe:function(e){e.exports={checkbox:"checkbox-3xZUD-2M-",input:"input-ly-CSnj5-",box:"box-20C92a5S-",reverse:"reverse-3xeTx96y-",label:"label-cyItEVpF-",baseline:"baseline-6TXKro4X-",wrapper:"wrapper-1AZBBaMW-",icon:"icon-3dOOKDQo-",noOutline:"noOutline-3wgQ5xZI-",check:"check-13mv3fTM-",dot:"dot-3FRmUbXl-"}},"mD/u":function(e,t,o){"use strict";var n,s;Object.defineProperty(t,"__esModule",{value:!0}),n=o("CZlE"),s=o("ZOCd"),t.CheckIcon=n.makeIcon(s)},mR1d:function(e,t,o){},omE6:function(e,t,o){"use strict";var n,s,i,r;Object.defineProperty(t,"__esModule",{value:!0}),n=o("mrSG"),s=o("q1tI"),i=o("17x9"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subscriptions=new Set,t._getName=function(){return t.props.name},t._getValues=function(){return t.props.values},t._getOnChange=function(){return t.props.onChange},t._subscribe=function(e){t._subscriptions.add(e)},t._unsubscribe=function(e){t._subscriptions.delete(e)},t}return n.__extends(t,e),t.prototype.getChildContext=function(){return{switchGroupContext:{getName:this._getName,getValues:this._getValues,getOnChange:this._getOnChange,subscribe:this._subscribe,unsubscribe:this._unsubscribe}}},t.prototype.render=function(){return this.props.children},t.prototype.componentDidUpdate=function(e){this._notify(this._getUpdates(this.props.values,e.values))},t.prototype._notify=function(e){this._subscriptions.forEach(function(t){return t(e)})},t.prototype._getUpdates=function(e,t){return t.concat(e).filter(function(o){
return t.includes(o)?!e.includes(o):e.includes(o)})},t.childContextTypes={switchGroupContext:i.any.isRequired},t}(s.PureComponent),t.SwitchGroup=r}}]);